!function(P,a,j){"use strict";function H(P){return p().createElement(P)}function M(){return H("div")}function J(){return H("canvas")}function o(P,a,N){P.style.setProperty(a,N,T)}function C(P,a){return P.style.getPropertyValue(a)}function Y(P,a){P.appendChild(a)}function E(P){var a=P.scrollWidth,N=P.scrollHeight;return P===p().body&&(a=Math.max(a,p().documentElement.scrollWidth),N=Math.max(N,p().documentElement.scrollHeight)),{width:a,height:N}}function q(P){var a=P.touches[0];return a||P.changedTouches[0]}var F=P.ht,_=F.Default,u=_.isTouchable,D=_.isTouchEvent,N=F.Color,c="px",l="0",W="innerHTML",n="className",R="position",d="absolute",B="width",K="height",b="left",h="top",Z="right",L="bottom",i="max-width",e="max-height",T=null,s="none",U="",t=P.parseInt,m=P.setTimeout,r=_.getInternal(),w=_.animate,P=N.titleIconBackground,p=function(){return document},O=r.addEventListener,P=(r.removeEventListener,r.addMethod(_,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:P,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:P}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:P},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:P}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:P},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:P}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:P},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:P},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:P},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:P}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:P},{type:"rect",rect:[10,118,268,56],background:P},{type:"rect",rect:[10,213,268,56],background:P}]},panelTitleLabelColor:_.labelSelectColor,panelTitleLabelFont:_.labelFont,panelContentLabelFont:_.labelFont,panelTitleBackground:N.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:j},!0),F.widget.Panel=function(P){var u=this,a=u._view=r.createView(null,u);u.$1i=0,u.$18i=new F.Notifier,u.$2i="leftTop",o(a,h,l),o(a,b,l),o(a,R,d),o(a,"overflow","hidden"),u._interactor=new v(u),u.setConfig(P),u.addEventListener(function(P){var a=u.getPanelConfig(P.id),N=a.content;"beginRestore"!==P.kind&&"betweenResize"!==P.kind&&"endToggle"!==P.kind||(N&&N.invalidate&&N.invalidate(),a.items&&a.items.forEach(function(P){P&&P.content&&P.content.invalidate&&P.content.invalidate()}))})}),v=(_.def(P,a,{ms_v:1,_dragContainment:"parent",setConfig:function(P){if(P){for(var a=this,N=a._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);a._config=P,a.$35i=[],P.expanded==T&&(P.expand!=T?P.expanded=P.expand:P.expanded=!0);var u=a._view,O=a.$24i(P,u,!0),v=O[2],j=P.width,O=(a.$35i.push(O[1]),P.items&&P.items.forEach(function(P){P.expanded==T&&(P.expand!=T?P.expanded=P.expand:P.expanded=!0);P=a.$24i(P,v.children[0]);a.$35i.push(P[1])}),M()),O=(o(O,B,10+c),o(O,K,10+c),o(O,R,d),o(O,L,l),o(O,Z,l),O[n]="resize-area",Y(u,O),a.$10i(),P.flowLayout&&o(u,R,"relative"),o(u,"opacity",l),Y(p().body,u),j==T&&(j=u.offsetWidth),o(u,B,j+c),o(u,i,j+c),P.content);O&&O.isSelfViewEvent&&(O.setX(0),O.setY(0),O.setWidth(j-2*(P.borderWidth||0)),O.setHeight(P.contentHeight)),P.items&&P.items.forEach(function(P){g(P)}),P.buttons&&P.buttons.indexOf("toggle")<0||g(P),P.minimized==T&&P.minimize!=T&&(P.minimized=P.minimize),P.minimized&&!1!==P.minimizable&&a.minimize(!0),p().body.removeChild(u),o(u,"opacity",U),N&&Y(N,u),a.iv()}function g(P){P.expanded=!P.expanded,a.togglePanel(P.id,!0,!0)}},getPanelConfig:function(P){var a=this._config,N=a.items;if(a.id===P)return a;if(N)for(var u=0;u<N.length;u++){var O=N[u];if(O.id===P)return O}},getPanelView:function(P){for(var a=this.$35i,N=0;N<a.length;N++){var u=a[N].parentNode;if(u.$15i===P)return u}},setDragContainment:function(P){this._dragContainment=P},getDragContainment:function(){return this._dragContainment},$20i:function(){return this._config.restoreIconSize||24},$5i:function(P){P=P.titleIconSize||16;return u&&(P*=1.2),P},$4i:function(P){return P.titleHeight||_.widgetTitleHeight},setTitle:function(P,a){var N;(a=a==T?this._config.id:a)!=T&&(N=this.getPanelConfig(a),a=this.getPanelView(a),N.title=P,a.querySelector(".panel-title span").innerHTML=P)},setInnerPanel:function(P){var a,N=this,u=P.id,O=N.$35i,v=!1;if(P.expanded==T&&(P.expanded=!0),u!=T){var j=N.getPanelConfig(u);if(j){var g,v=!0,u=N.getPanelView(u),p=u.parentNode,f=u.children[0];if(u!==N._view){for(g in N.$11i(),j)delete j.key;for(g in P)j[g]=P[g];a=N.$24i(P,p,!1,u)[1],p.removeChild(u);for(var F=0;F<O.length;F++)if(O[F]===f){O.splice(F,1,a);break}N.$12i(),j.expanded=!j.expanded,N.togglePanel(j.id,!0,!0),N.iv()}}}v||(N.$11i(),a=N.$24i(P,N._view.children[1])[1],O.push(a),N._config.items||(N._config.items=[]),(p=N._config.items).push(P),N.$12i(),1<p.length&&(u=p[p.length-2],v=N.getPanelView(u.id).children[0],o(v,"border-bottom",N.$55i(u))),P.expanded=!P.expanded,N.togglePanel(P.id,!0,!0),N.iv())},removeInnerPanel:function(P){var a,N=this,u=-1,O=N._config.items;if(O)for(p=0;p<O.length;p++)if(O[p].id===P){u=p;break}if(N.$11i(),0<=u){for(var v=N.$35i,j=N.getPanelView(P),g=j.children[0],p=0;p<v.length;p++)if(v[p]===g){v.splice(p,1);break}O.splice(u,1),j.parentNode.removeChild(j)}N.$12i(),0<O.length&&(j=O[O.length-1],a=N.getPanelView(j.id).children[0],o(a,"border-bottom",N.$55i(j)))},$6i:function(P){o(P,"cursor","pointer"),o(P,"display","inline-block"),o(P,"margin-right",(u?8:4)+c),o(P,"vertical-align",h)},$24i:function(P,a,N,u){var O=this,v=O._config.flowLayout,j=N?a:M(),g=O.$50i(P),p=O.$3i(P,N),f=(j[n]="ht-widget-panel"+(N?" outer-panel":" inner-panel"),P.borderWidth==T&&(P.borderWidth=N?2:0),P.borderWidth),N=(o(j,"border-width","0 "+f+c+" "+f+c+" "+f+c+" "),o(j,"border-color",P.titleBackground||_.panelTitleBackground),o(j,"border-style","solid"),Y(j,p),Y(j,g),N||(u?a.insertBefore(j,u):Y(a,j)),!v&&N&&!1!==P.minimizable&&(f=J(),u=O.$20i(),v=P.restoreToolTip,r.setCanvas(f,u,u),f[n]="control-button button-minimize button-minimize-restore",O.$6i(f),o(f,"display","none"),Y(a,f),f.title=v||""),P.panelBackground||P.titleBackground||_.panelTitleBackground);if(o(j,"background-color",N),P.id==T){for(var F=O.$1i++;O.getPanelConfig(F);)F=O.$1i++;P.id=F}return j.$15i=P.id,P.width&&(j.style.width=P.width+c),[j,p,g]},$9i:function(P){var a=J(),N=(a[n]="control-button button-toggle button-toggle-expand",a.title=P.toggleToolTip||"",this.$4i(P)),P=this.$5i(P);return this.$6i(a),r.setCanvas(a,P,N),a},$8i:function(P){var a=J(),N="control-button button-independent-switch",N=(!0===P.independent?a[n]=N+" button-independent-switch-on":a[n]=N+" button-independent-switch-off",a.title=P.independentSwitchToolTip||"",this.$4i(P)),P=this.$5i(P);return this.$6i(a),r.setCanvas(a,P,N),a},$7i:function(P){var a=J(),N=(a[n]="control-button button-minimize button-minimize-minimize",a.title=P.minimizeToolTip||"",this.$4i(P)),P=this.$5i(P);return this.$6i(a),r.setCanvas(a,P,N),a},$55i:function(P){var a=this._config,N=a.items,u=P.separatorWidth||_.panelSeparatorWidth,O=P.titleBackground||_.panelTitleBackground,O=!1!==P.expanded?O:P.separatorColor||_.panelSeparatorColor||_.brighter(O);return(u=a===P||N&&N.indexOf(P)===N.length-1?0:u)+c+" solid "+O},$3i:function(a,N){function P(){var P=j.$9i(a);Y(f,P)}function u(){var P;!g&&N&&!1!==a.minimizable&&(P=j.$7i(a),Y(f,P))}var O,v,j=this,g=j._config.flowLayout,p=M(),f=M(),F=j.$4i(a),V=a.titleBackground,y=a.titleColor,A=a.titleIcon,$=a.buttons,A=(p[n]="panel-title",o(p,R,"relative"),o(p,"background",V||_.panelTitleBackground),o(p,"color",y||_.panelTitleLabelColor),o(p,h,l),o(p,"box-sizing","border-box"),o(p,"-moz-box-sizing","border-box"),o(p,"padding","0 5px 0 0"),o(p,B,"100%"),o(p,"cursor","default"),o(p,"white-space","nowrap"),o(p,"font",_.panelTitleLabelFont),A&&((V=J())[n]="control-button panel-title-icon",y=j.$4i(a),A=j.$5i(a),j.$6i(V),r.setCanvas(V,A,y),Y(p,V)),H("span"));o(A,"display","inline-block"),o(A,"margin-left","5px"),A[W]="<span>"+a.title+"</span>",Y(p,A),o(p,"line-height",F+c),f[n]="panel-title-controls",o(f,R,d),o(f,b,l),o(f,Z,5+c),o(f,h,l),o(f,L,l),o(f,"text-align",Z);if($)for(var z=0;z<$.length;z++){var I=$[z];"string"==typeof I?"minimize"===I?u():"independentSwitch"===I?(v=void 0,N||(v=j.$8i(a),Y(f,v))):"toggle"===I&&P():"object"==typeof I&&(v=I,O=I=void 0,(I=J())[n]="control-button custombutton-"+v.name,I.title=v.toolTip||"",I._action=v.action,v=j.$4i(a),O=j.$5i(a),j.$6i(I),r.setCanvas(I,O,v),Y(f,I))}else u(),P();return Y(p,f),p},$50i:function(P){var a,N=M(),u=P.contentHeight,O=M(),v=(o(O,R,"relative"),N[n]="panel-body",o(N,"overflow","hidden"),P.contentBackground);return o(N,"background",v=v===j?"white":v),o(N,"font",_.panelContentLabelFont),Y(N,O),P.content&&((v=P.content).getView?(Y(O,v.getView()),a=O.children[0]):v instanceof Element?(Y(O,v),a=O.children[0]):O[W]=v,v.isSelfViewEvent||a&&(o(a,B,"100%"),o(a,K,"100%")),u&&o(O,K,u+c)),N},$10i:function(){var P=this._config,a=this._view.querySelector(".resize-area").style;P.flowLayout||!0===P.minimized||!1===P.expanded?a.display=s:a.display="block"},$11i:function(){var P=this._view,a=P.children[1];0<=this.$13i?this.$13i++:this.$13i=1,o(a,e,U),o(P,i,U)},$12i:function(){var P,a;0==--this.$13i&&(a=(P=this._view).children[1],o(a,e,a.scrollHeight+c),o(P,i,P.offsetWidth+c))},$14i:function(){var P=this._view,a=P.children[0],N=a.children[1].children,u=this._config,O=0;P.$26i=P.offsetWidth,O+=a.children[0].offsetWidth,u.titleIcon&&(O+=a.children[1].offsetWidth,N=a.children[2].children);for(var v=0;v<N.length;v++)O+=N[v].offsetWidth+5;P.$51i=O+15},togglePanel:function(P,a,N){var u=this,O=u._view,v=O.children[1],j=T,g=u.$35i,p=g.length,f=u._config.exclusive,F=u.$2i,V=[],y=u._config.narrowWhenCollapse;function A(P){var P=P.target,a=P.parentNode,N=u.getPanelConfig(a.$15i);delete a.$19i,P!==v&&u.$12i(),u.$18i.fire({kind:"endToggle",target:u,id:N.id})}for(var $,z,I,H=0;H<p;H++){var M=g[H].parentNode,J=M.$15i,Y=u.getPanelConfig(J);J===P&&(j=M),!a&&f&&Y.expanded&&M!==O&&J!==P&&!0!==Y.independent&&V.push(M)}j&&!j.$19i&&(j.$19i=!0,$=j.children[1],z=j.querySelector(".button-toggle"),I=u.getPanelConfig(j.$15i),z&&(j===O||I.expanded||!0===I.independent||V.forEach(function(P){u.togglePanel(P.$15i,!0)}),j!==O&&u.$11i(),N=N?0:200,u.$18i.fire({kind:"beginToggle",target:u,id:j.$15i}),I.expanded?(y&&j===O&&u.$14i(),z[n]="control-button button-toggle",0<=F.indexOf("Bottom")?z[n]+=" button-toggle-expand":z[n]+=" button-toggle-collapse",o($,B,$.clientWidth+c),I.expanded=!1,o(j.children[0],"border-bottom",u.$55i(I)),w($).duration(N).set("opacity",l).set(e,l).end(A),y&&j===O&&w(j).duration(N).set(i,j.$51i+c).end(),j[n]+=" panel-collapse",w(j).duration(N).set("padding-bottom",l).end()):(z[n]="control-button button-toggle",0<=F.indexOf("Bottom")?z[n]+=" button-toggle-collapse":z[n]+=" button-toggle-expand",o($,B,U),I.expanded=!0,o(j.children[0],"border-bottom",u.$55i(I)),w($).duration(N).set("opacity","1").set(e,$.scrollHeight+c).end(A),y&&j===O&&w(j).duration(N).set(i,(j.$26i||j.offsetWidth)+c).end(),j[n]=j[n].replace(" panel-collapse",U),w(j).duration(N).end()),u.$28i(I,!0),u.$10i()))},$16i:function(){var P=this._view,a=P.$22i,N=P.$23i,u=this.$2i;return a==T&&(0<=u.indexOf(b)?a=P.$22i=0:0<=u.indexOf(Z)&&(a=P.$22i=100)),N==T&&(0<=u.indexOf("Top")?N=P.$23i=0:0<=u.indexOf("Bottom")&&(N=P.$23i=100)),[a,N]},$25i:function(){var P=this,a=P._view,N=a.$21i,u=P.$20i(),O=P.$16i(),v=O[0],O=O[1],j=P.$2i;a.children[0].style.display=s,a.children[1].style.display=s,a.children[2].style.display=U,o(a,"padding",l),o(a,i,u+c),"leftTop"===j?(o(a,b,t(C(a,b))+(N.width-u)*v/100+c),o(a,h,t(C(a,h))+(N.height-u)*O/100+c)):"leftBottom"===j?(o(a,b,t(C(a,b))+(N.width-u)*v/100+c),o(a,L,t(C(a,L))+(N.height-u)*(1-O/100)+c)):"rightTop"===j?(o(a,Z,t(C(a,Z))+(N.width-u)*(1-v/100)+c),o(a,h,t(C(a,h))+(N.height-u)*O/100+c)):"rightBottom"===j&&(o(a,Z,t(C(a,Z))+(N.width-u)*(1-v/100)+c),o(a,L,t(C(a,L))+(N.height-u)*(1-O/100)+c)),a[n]+=" panel-minimized",P.$18i.fire({kind:"endMinimize",target:P,id:a.$15i})},$17i:function(){var P=this,a=P._config,N=P._view;o(N,"-webkit-transform",U),o(N,"-ms-transform",U),o(N,"transform",U),a.minimized?P.$25i():(P.$18i.fire({kind:"endRestore",target:P,id:a.id}),N[n]=N[n].replace(" panel-minimized",U)),delete N.$19i},minimize:function(P){var a,N,u,O,v,j,g=this,p=g._view;p.$19i||p.children[0].style.display!==s&&(a=g._config,j=p.getBoundingClientRect(),N=(u=g.$20i())/j.width,u=u/j.height,O=(v=g.$16i())[0],v=v[1],p.$52i=N,p.$53i=u,p.$21i=j,g.$18i.fire({kind:"beginMinimize",target:g,id:p.$15i}),j=P?0:200,a.minimized=!0,p.$19i=!0,a.expanded&&(p.$26i=p.offsetWidth),o(p,"-webkit-transform-origin",P=O+"% "+v+"%"),o(p,"-ms-transform-origin",P),o(p,"transform-origin",P),w(p).duration(j).scale(N,u).end(function(){g.$17i()}),g.$10i())},restore:function(){var P,a,N,u,O,v,j,g,p,f,F,V,y,A,$,z,I,H=this,M=H._view,J=M.parentNode,Y=H._config;M.$19i||Y.minimized&&(y=M.$21i,A=M.$52i,$=M.$53i,Y.borderWidth,z=H.$20i(),J=E(J),"leftTop"===(I=H.$2i)?(P=t(C(M,b)),j=N=t(C(M,h)),0<(p=(O=P)+y.width-J.width)&&(P<=p?P=0:P-=p),0<(f=N+y.height-J.height)&&(N<=f?N=0:N-=f),F=(O-P)/(y.width-z)*100,V=(j-N)/(y.height-z)*100,o(M,b,P+c),o(M,h,N+c)):"leftBottom"===I?(P=t(C(M,b)),g=u=t(C(M,L)),0<(p=(O=P)+y.width-J.width)&&(P<=p?P=0:P-=p),0<(f=u+y.height-J.height)&&(u<=f?u=0:u-=f),F=(O-P)/(y.width-z)*100,V=100*(1-(g-u)/(y.height-z)),o(M,b,P+c),o(M,L,u+c)):"rightTop"===I?(a=t(C(M,Z)),j=N=t(C(M,h)),0<(p=(v=a)+y.width-J.width)&&(a<=p?a=0:a-=p),0<(f=N+y.height-J.height)&&(N<=f?N=0:N-=f),F=100*(1-(v-a)/(y.width-z)),V=(j-N)/(y.height-z)*100,o(M,Z,a+c),o(M,h,N+c)):"rightBottom"===I&&(a=t(C(M,Z)),g=u=t(C(M,L)),0<(p=(v=a)+y.width-J.width)&&(a<=p?a=0:a-=p),0<(f=u+y.height-J.height)&&(u<=f?u=0:u-=f),F=100*(1-(v-a)/(y.width-z)),V=100*(1-(g-u)/(y.height-z)),o(M,Z,a+c),o(M,L,u+c)),M.children[0].style.display="block",M.children[1].style.display="block",M.children[2].style.display=s,o(M,"-webkit-transform","scale("+A+", "+$+")"),o(M,"-ms-transform","scale("+A+", "+$+")"),o(M,"transform","scale("+A+", "+$+")"),M.$22i=F,M.$23i=V,o(M,"-webkit-transform-origin",F+"% "+V+"%"),o(M,"-ms-transform-origin",F+"% "+V+"%"),o(M,"transform-origin",F+"% "+V+"%"),Y.narrowWhenCollapse&&!Y.expanded?o(M,i,M.$51i+c):o(M,i,M.$26i+c),H.$18i.fire({kind:"beginRestore",target:H,id:M.$15i}),M.$19i=!0,Y.minimized=!1,m(function(){w(M).scale(1,1).end(function(){H.$17i()})},30),H.$10i())},addEventListener:function(P,a,N){this.$18i.add(P,a,N)},removeEventListener:function(P,a){this.$18i.remove(P,a)},setPosition:function(P,a){var N=this._view,u=this.$2i;"leftTop"===u?(o(N,b,P+c),o(N,h,a+c),o(N,Z,U),o(N,L,U)):"leftBottom"===u?(o(N,b,P+c),o(N,L,a+c),o(N,Z,U),o(N,h,U)):"rightTop"===u?(o(N,Z,P+c),o(N,h,a+c),o(N,b,U),o(N,L,U)):"rightBottom"===u&&(o(N,Z,P+c),o(N,L,a+c),o(N,b,U),o(N,h,U)),delete N.$22i,delete N.$23i},getPosition:function(){var P=this._view,a=this.$2i;return"leftTop"===a?{x:t(C(P,b)),y:t(C(P,h))}:"leftBottom"===a?{x:t(C(P,b)),y:t(C(P,L))}:"rightTop"===a?{x:t(C(P,Z)),y:t(C(P,h))}:"rightBottom"===a?{x:t(C(P,Z)),y:t(C(P,L))}:void 0},setPositionRelativeTo:function(P){var a=this,N=a._view.querySelectorAll(".button-toggle"),u="control-button button-toggle",O=a.getPosition();a.$2i=P,a.setPosition(O.x,O.y);for(var v=0;v<N.length;v++){var j=N[v];a.getPanelConfig(j.parentNode.parentNode.parentNode.$15i).expanded?0<=P.indexOf("Bottom")?j[n]=u+" button-toggle-collapse":j[n]=u+" button-toggle-expand":0<=P.indexOf("Bottom")?j[n]=u+" button-toggle-expand":j[n]=u+" button-toggle-collapse"}a.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(P){var a=this,P=(a._68I||(a._68I=1,_.callLater(a.validate,a,T,P),a.onInvalidated&&a.onInvalidated(),a.fireViewEvent("invalidate")),this._config),a=P.content;a&&a.invalidate&&a.invalidate(),P.items&&P.items.forEach(function(P){P&&P.content&&P.content.invalidate&&P.content.invalidate()})},getIconStretch:function(P){return this._config.iconStretch||"fill"},$27i:function(P,a,N,u,O){P=r.initContext(P),r.translateAndScale(P,0,0,1),P.clearRect(0,0,N,N),N=(N-u)/2;_.drawStretchImage(P,_.getImage(a),this.getIconStretch(O),0,N,u,u),P.restore()},$28i:function(P){var a=this,N=P.id,N=a.getPanelView(N).querySelector(".button-toggle"),u=0<=a.$2i.indexOf("Bottom"),O=u?_.panelCollapseIcon:_.panelExpandIcon,u=u?_.panelExpandIcon:_.panelCollapseIcon;N&&(u=P.expanded?_.getImage(u):_.getImage(O),O=a.$4i(P),P=a.$5i(P),a.$27i(N,u,O,P,"toggle"))},$29i:function(P){var a=P.id,a=this.getPanelView(a).querySelector(".button-independent-switch"),N=_.panelUnLockIcon,u=_.panelLockIcon;a&&(u=!0!==P.independent?_.getImage(u):_.getImage(N),N=this.$4i(P),P=this.$5i(P),this.$27i(a,u,N,P,"switch"))},$30i:function(P){var a,N=P.id,N=this.getPanelView(N).querySelector(".button-minimize-minimize"),u=_.panelMinimizeIcon;N&&(a=this.$4i(P),P=this.$5i(P),this.$27i(N,_.getImage(u),a,P,"miminize"))},$31i:function(P){var a,N=P.id,N=this.getPanelView(N).querySelector(".button-minimize-restore"),P=P.titleIcon||_.panelRestoreIcon;N&&(a=this.$20i(),this.$27i(N,_.getImage(P),a,a,"restore"))},$32i:function(O){var v=this,P=O.id,j=v.getPanelView(P);O.buttons&&O.buttons.forEach(function(P){var a,N,u=P.name,P=P.icon;u&&P&&((u=j.querySelector(".custombutton-"+u))&&(a=v.$4i(O),N=v.$5i(O)-1,v.$27i(u,_.getImage(P),a,N,"custom")))})},$33i:function(P){var a,N=P.id,N=this.getPanelView(N).querySelector(".panel-title-icon"),u=P.titleIcon;N&&u&&(a=this.$4i(P),P=this.$5i(P),this.$27i(N,_.getImage(u),a,P,"title"))},validateImpl:function(){var a=this,P=a._config;a.$28i(P),a.$30i(P),a.$31i(P),a.$32i(P),a.$33i(P),P.items&&P.items.forEach(function(P){a.$28i(P),a.$29i(P),a.$32i(P)})},setWidth:function(P){var a=this,N=a._view,u=a._config;a._view.style.width=P+c,u&&(u.width=P,o(N,i,U)),a.iv(),a.fp&&a.fp(B,T,P)},setHeight:function(P){var a=this,N=a._config,u=a._view.children[1],O=a.$4i(N);P=Math.max(O,P-O),N&&(N.contentHeight=P),u&&((O=u.children[0])&&o(O,K,P+c),o(u,e,U)),a.iv(),a.fp&&a.fp(K,T,P)}}),function(P){var a=P.getView();this.$34i=P,this.addListeners(),O(a,"dblclick",this.$42i.bind(this))}),N=(_.def(v,a,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(P){for(var a=this.$34i,N=P.target,u=a.$35i,O=u.length,v=0;v<O;v++){var j=u[v];j.contains(N)&&(P.preventDefault(),a.togglePanel(j.parentNode.$15i))}},handle_touchstart:function(P){var a,N,u,O=this,v=O.$34i,j=v._config.flowLayout,g=P;_.isLeftButton(P)&&(a=P.target,N=v.getView().children[0],u=v.getView().querySelector(".button-minimize-restore"),D(P)&&(g=q(P)),g=O.$40i={x:g.pageX,y:g.pageY},O.$41i={x:g.x,y:g.y},(!j&&N.contains(a)||u&&u.contains(a))&&(O.$38i=!0,_.startDragging(O,P)),!j&&O.handle_mousemove(P)&&(O.$37i=!0,_.startDragging(O,P),v.$11i()))},handle_mousedown:function(P){this.handle_touchstart(P)},handle_touchend:function(P){var a=this,N=a.$34i,u=P.target,O=N.$35i,v=O.length,j=0,g=N.getView(),p=g.querySelector(".button-minimize"),g=g.querySelector(".button-minimize-restore");if(!a.$39i&&!a.$36i){if(p&&p.contains(u)||g&&g.contains(u))P.preventDefault(),N._config.minimized?N.restore():N.minimize();else for(;j<v;j++){var f,F=O[j],V=F.parentNode.$15i,y=N.getPanelConfig(V),A=F.querySelector(".button-toggle"),$=F.querySelector(".button-independent-switch");A===u?(P.preventDefault(),N.togglePanel(V)):$===u?(P.preventDefault(),A="button-independent-switch-off",f="button-independent-switch-on",y.independent==T?y.independent=!0:y.independent=!y.independent,y.independent?$[n]=$[n].replace(A,f):$[n]=$[n].replace(f,A),N.$29i(y)):u[n]&&0<=u[n].indexOf("control-button custombutton-")&&F.contains(u)&&u._action.call(N,y,N.getPanelView(V),P)}delete a.$40i,delete a.$41i}},handle_mouseup:function(P){this.handle_touchend(P)},handleWindowTouchEnd:function(P){var a=this,N=a.$34i;a.$37i&&a.$36i?(N.$18i.fire({kind:"endResize",target:N,id:N.getView().$15i}),N.$12i()):a.$38i&&a.$39i&&N.$18i.fire({kind:"endMove",target:N,id:N.getView().$15i}),this.clear()},handleWindowMouseUp:function(P){this.handleWindowTouchEnd(P)},handle_mousemove:function(P){var a=this.getView(),N=a.querySelector(".resize-area").getBoundingClientRect(),N={x:N.left,y:N.top,width:N.width,height:N.height},u=(P=D(P)?q(P):P).clientX,P=P.clientY,O=this.$34i._config;if(O.expanded&&!0!==O.minimized&&_.containsPoint(N,{x:u,y:P}))return a.style.cursor="nwse-resize",!0;a.style.cursor=U},handleWindowTouchMove:function(P){P.preventDefault();var a,N,u,O,v,j,g,p,f,F,V,y,A,$,z,I,H,M,J,Y,l,n,R=P,P=(D(P)&&(R=q(P)),this),d=P.$40i,i=P.$41i;i.x==d.x&&i.y==d.y&&_.getDistance(i,{x:R.pageX,y:R.pageY})<=1||(i=P.$34i,N=(a=P.getView()).parentNode,y=(u=i._config).resizeMode||"wh",O=R.pageX-d.x,v=R.pageY-d.y,j=i.$2i,P.$37i?(g=a.children[1].children[0],p=(f=a.offsetWidth)+O,F=(V=g.offsetHeight)+v,p=Math.max(p,100),F=Math.max(F,100),"w"===y?(o(a,B,p+c),u.width=p):"h"===y?(o(g,K,F+c),u.contentHeight=F):"wh"===y&&(o(a,B,p+c),o(g,K,F+c),u.width=p,u.contentHeight=F),0<=j.indexOf("right")&&o(a,Z,t(C(a,Z))-(p-f)+c),0<=j.indexOf("Bottom")&&o(a,L,t(C(a,L))-(F-V)+c),d.x=R.pageX,d.y=R.pageY,(y=u.content)&&y.isSelfViewEvent&&(y.setX(0),y.setY(0),y.setWidth(u.width-2*(u.borderWidth||0)),y.setHeight(u.contentHeight)),P.$36i?i.$18i.fire({kind:"betweenResize",target:i,id:i.getView().$15i}):(P.$36i=!0,i.$18i.fire({kind:"beginResize",target:i,id:i.getView().$15i}))):P.$38i&&(p=(g=a.getBoundingClientRect()).width,f=g.height,V=(F=E(N)).width,R=F.height,y=i._dragContainment,"leftTop"===j?(H=(A=t(C(a,b))||0)+O,J=(z=t(C(a,h))||0)+v,"parent"===y&&((H=V<H+p?V-p:H)<0&&(H=0),(J=R<J+f?R-f:J)<0&&(J=0)),l=H-A,n=J-z,i.setPosition(H,J),d.x+=l,d.y+=n):"rightBottom"===j?(M=($=t(C(a,Z))||0)-O,Y=(I=t(C(a,L))||0)-v,"parent"===y&&(V<(M=M<0?0:M)+p&&(M=V-p),R<(Y=Y<0?0:Y)+f&&(Y=R-f)),l=M-$,n=Y-I,i.setPosition(M,Y),d.x-=l,d.y-=n):"rightTop"===j?(M=($=t(C(a,Z))||0)-O,J=(z=t(C(a,h))||0)+v,"parent"===y&&(V<(M=M<0?0:M)+p&&(M=V-p),R<(J=J<0?0:J)+f&&(J=R-f)),l=M-$,n=J-z,i.setPosition(M,J),d.x-=l,d.y+=n):"leftBottom"===j&&(H=(A=t(C(a,b))||0)+O,Y=(I=t(C(a,L))||0)-v,"parent"===y&&(V<(H=H<0?0:H)+p&&(H=V-p),R<(Y=Y<0?0:Y)+f&&(Y=R-f)),l=H-A,n=Y-I,i.setPosition(H,Y),d.x+=l,d.y-=n),P.$39i?i.$18i.fire({kind:"betweenMove",target:i,id:i.getView().$15i}):(P.$39i=!0,i.$18i.fire({kind:"beginMove",target:i,id:i.getView().$15i}))))},handleWindowMouseMove:function(P){this.handleWindowTouchMove(P)}}),F.widget.PanelGroup=function(P){var a=this,N=a._view=r.createView(null,a);N.style.border="1px dashed black",N.style.position="absolute",N.style.background="rgba(120, 120, 120, 0.4)",a.$48i=new F.List,a._tolerance=100,a._config=P||{hGap:0,vGap:0},a.bindHandlePanelMove=a.handlePanelMove.bind(a),a.bindHandlePanelEvent=a.handlePanelEvent.bind(a),a.invalidate()});_.def(N,a,{invalidate:function(){var P=this;P._68I||(P._68I=1,m(function(){P.validate()},50))},validate:function(){var P;this._68I&&(delete this._68I,(P=this.$48i.get(0))&&(P=P.getView().parentNode)&&(this.layoutPanels(P,"leftTop"),this.layoutPanels(P,"rightTop"),this.layoutPanels(P,"leftBottom"),this.layoutPanels(P,"rightBottom")))},setLeftTopPanels:function(){var P=this.$43i,a=this.$48i;P==T&&(P=this.$43i=new F.List);for(var N=0;N<arguments.length;N++){var u=arguments[N];"string"==typeof u?P.$49i=u:u._config.flowLayout||(u.setPositionRelativeTo("leftTop"),P.contains(u)||P.add(u),a.contains(u)||this.add(u))}},setRightTopPanels:function(){var P=this.$44i,a=this.$48i;P==T&&(P=this.$44i=new F.List);for(var N=0;N<arguments.length;N++){var u=arguments[N];"string"==typeof u?P.$49i=u:u._config.flowLayout||(u.setPositionRelativeTo("rightTop"),P.contains(u)||P.add(u),a.contains(u)||this.add(u))}},setLeftBottomPanels:function(){var P=this.$45i,a=this.$48i;P==T&&(P=this.$45i=new F.List);for(var N=0;N<arguments.length;N++){var u=arguments[N];"string"==typeof u?P.$49i=u:u._config.flowLayout||(u.setPositionRelativeTo("leftBottom"),P.contains(u)||P.add(u),a.contains(u)||this.add(u))}},setRightBottomPanels:function(){var P=this.$46i,a=this.$48i;P==T&&(P=this.$46i=new F.List);for(var N=0;N<arguments.length;N++){var u=arguments[N];"string"==typeof u?P.$49i=u:u._config.flowLayout||(u.setPositionRelativeTo("rightBottom"),P.contains(u)||P.add(u),a.contains(u)||this.add(u))}},add:function(P){var a;P._config.flowLayout||((a=this.$48i).contains(P)||(P.addEventListener(this.bindHandlePanelMove),P.addEventListener(this.bindHandlePanelEvent),a.add(P)))},remove:function(P){var a=this,N=a.$48i;N.contains(P)&&(P.removeEventListener(a.bindHandlePanelMove),P.removeEventListener(a.bindHandlePanelEvent),N.remove(P),a.$43i.contains(P)&&a.$43i.remove(P),a.$44i.contains(P)&&a.$44i.remove(P),a.$45i.contains(P)&&a.$45i.remove(P),a.$46i.contains(P)&&a.$46i.remove(P))},layoutPanels:function(P,a,N){var u=this,O=u._config,v=O.hGap||0,j=O.vGap||0;if(P){var g=u.$43i;if("leftBottom"===a?g=u.$45i:"rightTop"===a?g=u.$44i:"rightBottom"===a&&(g=u.$46i),g){var p=g.$49i,f=v,F=j;if(P.contains(u._view)&&P.removeChild(u._view),g&&0<g.size())for(var V=0;V<g.size();V++){var y=g.get(V),A=y.getView();P=P||A.parentNode,N!==V?y.setPosition(f,F):("leftTop"===a?(u._view.style.right="",u._view.style.bottom="",u._view.style.left=f+c,u._view.style.top=F+c):"leftBottom"===a?(u._view.style.right="",u._view.style.top="",u._view.style.left=f+c,u._view.style.bottom=F+c):"rightTop"===a?(u._view.style.left="",u._view.style.bottom="",u._view.style.right=f+c,u._view.style.top=F+c):"rightBottom"===a&&(u._view.style.left="",u._view.style.top="",u._view.style.right=f+c,u._view.style.bottom=F+c),u._view.style.width=A.offsetWidth+c,u._view.style.height=A.offsetHeight+c,P.insertBefore(u._view,A)),"h"===p?f+=A.offsetWidth+v:"v"===p&&(F+=A.offsetHeight+j)}}}},handlePanelEvent:function(P){var a,N,u,O,v,j,g,p,f,F,V,y,A;"beginToggle"!==P.kind&&"endToggle"!==P.kind&&"beginRestore"!==P.kind&&"endMinimize"!==P.kind&&"endResize"!==P.kind||(a=this,N=P.target,u=N.getView().parentNode,V=a.$43i,O=a.$44i,A=a.$45i,v=a.$46i,j=a._config,p=g=T,(f=N.$47i)==T&&(f=N.$47i=0),"beginToggle"===P.kind?f=N.$47i=f+1:"endToggle"===P.kind&&(f=N.$47i=f-1),V&&V.contains(N)?(g="leftTop",p=V):A&&A.contains(N)?(g="leftBottom",p=A):O&&O.contains(N)?(g="rightTop",p=O):v&&v.contains(N)&&(g="rightBottom",p=v),"beginToggle"===P.kind&&g&&1===f?(V=(F=M()).style,y=p.$49i,A="each",V.fontSize="0",V.position="absolute",V.width="100%","leftTop"===g?(V.left=0,V.top=0):"leftBottom"===g?(V.left=0,V.bottom=0,"v"===y&&(A="reverseEach")):"rightTop"===g?(V.right=0,V.top=0,V.textAlign="right","h"===y&&(A="reverseEach")):"rightBottom"===g&&(V.right=0,V.bottom=0,V.textAlign="right",A="reverseEach"),p[A](function(P){var P=P.getView(),a=P.style,N=M();a.position="static",N.style.textAlign="left",N.style.position="relative",N.style.display="inline-block","leftTop"===g?(N.style.marginLeft=j.hGap+c,N.style.marginTop=j.vGap+c):"leftBottom"===g?(N.style.marginLeft=j.hGap+c,N.style.marginBottom=j.vGap+c):"rightTop"===g?(N.style.marginRight=j.hGap+c,N.style.marginTop=j.vGap+c):"rightBottom"===g&&(N.style.marginRight=j.hGap+c,N.style.marginBottom=j.vGap+c),N.appendChild(P),F.appendChild(N),"h"===y?N.style.verticalAlign="leftTop"===g||"rightTop"===g?"top":"bottom":F.appendChild(H("br"))}),a.$54i=F,u.appendChild(F)):"endToggle"===P.kind&&g&&0===f?m(function(){(u=u.parentNode.parentNode).removeChild(a.$54i),delete a.$54i,p.each(function(P){P=P.getView();P.style.position="absolute",u.appendChild(P)}),a.layoutPanels(u,g)},30):"beginRestore"!==P.kind&&"endMinimize"!==P.kind&&"endResize"!==P.kind||g&&a.layoutPanels(u,g))},handlePanelMove:function(P){var R,d,i,o,a,N,u,C,E,q,O,v,j,g,p,_,D,c,B,K,b,h,f;P.kind.indexOf("Move")<0||(O=(R=this)._config,d=O.hGap||0,i=O.vGap||0,N=(a=(O=(o=P.target)._view).getBoundingClientRect()).width,u=a.height,C=N/2,E=u/2,q=O.parentNode,O=R.$43i,v=R.$44i,j=R.$45i,g=R.$46i,p=q.getBoundingClientRect(),_=R._tolerance,"endMove"===P.kind&&((f=R._corner)&&(o.setPositionRelativeTo(f),R.layoutPanels(q,f)),delete R._corner),"betweenMove"===P.kind&&(D=p.left,c=p.top,B=p.width,K=p.height,b=a.left+N/2,h=a.top+u/2,O==T&&(O=R.$43i=new F.List),j==T&&(j=R.$45i=new F.List),v==T&&(v=R.$44i=new F.List),g==T&&(g=R.$46i=new F.List),delete R._corner,O.contains(o)?(O.remove(o),R.layoutPanels(q,"leftTop")):j.contains(o)?(j.remove(o),R.layoutPanels(q,"leftBottom")):v.contains(o)?(v.remove(o),R.layoutPanels(q,"rightTop")):g.contains(o)&&(g.remove(o),R.layoutPanels(q,"rightBottom")),(f=function(P,a){var N=D+d,u=c+i;if(0===a.size()){var O=N+C,v=u+E,j=("leftBottom"===P?v=c+K-i-E:"rightTop"===P?O=D+B-d-C:"rightBottom"===P&&(O=D+B-d-C,v=c+K-i-E),b-O),g=h-v;if((J=Math.sqrt(j*j+g*g))<_)return R._corner=P,a.add(o),R.layoutPanels(q,P,0),!0}else if(1===a.size()){var p=a.get(0).getView().getBoundingClientRect(),f=p.left+C,F=p.top+E,V=p.left+p.width+d+C,y=u+E,A=N+C,$=p.top+p.height+i+E,p=("leftBottom"===P?(F=p.top+p.height-E,y=c+K-i-E,$=p.top-i-E):"rightTop"===P?(f=p.left+p.width-C,V=p.left-d-C,A=D+B-d-C):"rightBottom"===P&&(f=p.left+p.width-C,F=p.top+p.height-E,V=p.left-d-C,y=c+K-i-E,A=D+B-d-C,$=p.top-i-E),b-f),f=h-F,F=b-V,V=h-y,y=b-A,A=h-$,$=t(Math.sqrt(p*p+f*f)),p=t(Math.sqrt(F*F+V*V)),f=t(Math.sqrt(y*y+A*A)),F=[$,p,f];if(F.sort(function(P,a){return P-a}),(V=F[0])<_)return R._corner=P,V===$?(a.add(o,0),R.layoutPanels(q,P,0),!0):V===p?(a.add(o),a.$49i="h",R.layoutPanels(q,P,1),!0):V===f?(a.add(o),a.$49i="v",R.layoutPanels(q,P,1),!0):void 0}else if(1<a.size()){for(var z=T,I={},H=[],y=a.$49i,M=0;M<a.size();M++){var J,Y=a.get(M).getView().getBoundingClientRect(),l=Y.left+C,n=Y.top+E,j=("leftBottom"===P?n=Y.top+Y.height-E:"rightTop"===P?l=Y.left+Y.width-C:"rightBottom"===P&&(l=Y.left+Y.width-C,n=Y.top+Y.height-E),M===a.size()-1&&(z=Y),b-l),g=h-n;I[J=t(Math.sqrt(j*j+g*g))]=M,H.push(J)}if("leftTop"===P&&"h"===y?(O=z.left+z.width+d+C,v=u+E):"leftTop"===P&&"v"===y?(O=N+C,v=z.top+z.height+i+E):"leftBottom"===P&&"h"===y?(O=z.left+z.width+d+C,v=c+K-i-E):"leftBottom"===P&&"v"===y?(O=N+C,v=z.top-i-E):"rightTop"===P&&"h"===y?(O=z.left-d-C,v=u+E):"rightTop"===P&&"v"===y?(O=D+B-d-C,v=z.top+z.height+i+E):"rightBottom"===P&&"h"===y?(O=z.left-d-C,v=c+K-i-E):"rightBottom"===P&&"v"===y&&(O=D+B-d-C,v=z.top-i-E),j=b-O,g=h-v,I[J=t(Math.sqrt(j*j+g*g))]=M,H.push(J),H.sort(function(P,a){return P-a}),(V=H[0])<_)return R._corner=P,a.add(o,I[V]),R.layoutPanels(q,P,I[V]),!0}})("leftTop",O)||f("leftBottom",j)||f("rightTop",v)||f("rightBottom",g)))}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);