!function(b){"use strict";function w(b,v){return R(b,v).width}function Z(b,v){return R(b,v).height}function Q(b,v){return H.getEdgeHostPosition(b,v,"source")}function x(b,v){return H.getEdgeHostPosition(b,v,"target")}function P(b,v){var H=b.s(l),f=b.getEdgeGroup();if(f){var a=0;if(f.eachSiblingEdge(function(b){v.isVisible(b)&&b.s(l)==H&&a++}),1<a)return b.s(i)*(a-1)/2}return 0}function d(H,f){var a=H.s(l),b=H.isLooped();if(!H.getEdgeGroup())return b?H.s(i):0;var y,Y=0,g=0,N=0;return H.getEdgeGroup().getSiblings().each(function(b){b.each(function(b){var v;b._40I===H._40I&&b.s(l)==a&&f.isVisible(b)&&(v=b.s(i),N=(y?g+=N/2+v/2:y=b,v),b===H&&(Y=g))})}),b?g-Y+N:Y-g/2}function L(b,v){return v=v.s("edge.corner.radius"),X.toRoundedCorner(b,v)}function Y(a,b,y,Y,v,H){if(v.sort(function(b,v){var H=b.getSourceAgent()===y?b.getTargetAgent():b.getSourceAgent(),f=v.getSourceAgent()===y?v.getTargetAgent():v.getSourceAgent(),H=H instanceof e.Edge?s(a,H):H.p(),f=f instanceof e.Edge?s(a,f):f.p();if(Y===V||Y===r){if(H.y>f.y)return 1;if(H.y<f.y)return-1}else{if(H.x>f.x)return 1;if(H.x<f.x)return-1}return X.sortFunc(b.getId(),v.getId())}),H){for(var f,g,N,l=b.getSourceAgent(),k=b.getTargetAgent(),h=0;h<v.size();h++){var n=v.get(h);n.getSourceAgent()===l&&n.getTargetAgent()===k||n.getTargetAgent()===l&&n.getSourceAgent()===k?(g=g||new u).add(n,0):(g?N=N||new u:f=f||new u).add(n)}v.clear(),f&&v.addAll(f),g&&v.addAll(g),N&&v.addAll(N)}var H=v.indexOf(b),W=v.size(),b=b.s(i);return{side:Y,index:H,size:W,offset:-b*(W-1)/2+b*H}}function W(v,b,H,f,a){var y=b.s(l);return Y(v,b,H,f,H.getAgentEdges().toList(function(b){return v.isVisible(b)&&b.s(l)===y}),a)}function y(b,v,H){return v=v.getSourceAgent()===H?v.getTargetAgent():v.getSourceAgent(),H=H instanceof e.Edge?s(b,H):H.p(),v=(b=v instanceof e.Edge?s(b,v):v.p()).x-H.x,b=b.y-H.y,0<v&&A(b)<=v?r:v<0&&A(b)<=-v?V:0<b&&A(v)<=b?C:D}function J(v,b,H){var f=b.s(l),a=y(v,b,H);return Y(v,b,H,a,H.getAgentEdges().toList(function(b){return v.isVisible(b)&&b.s(l)===f&&y(v,b,H)===a}))}function g(b,v,H){var f=v.getSourceAgent()===H,v=f?v.getTargetAgent():v.getSourceAgent(),a=H instanceof e.Edge,y=v instanceof e.Edge,a=a?s(b,H):H.p(),H=y?s(b,v):v.p();return f?a.y>H.y?D:C:a.x<H.x?r:V}function a(v,b,H){var f=b.s(l),a=g(v,b,H);return Y(v,b,H,a,H.getAgentEdges().toList(function(b){return v.isVisible(b)&&b.s(l)===f&&g(v,b,H)===a}),a===r||a===C)}function N(b,v,H){var f=v.getSourceAgent()===H,v=f?v.getTargetAgent():v.getSourceAgent(),a=H instanceof e.Edge,y=v instanceof e.Edge,a=a?s(b,H):H.p(),H=y?s(b,v):v.p();return f?a.x<H.x?r:V:a.y>H.y?D:C}function k(v,b,H){var f=b.s(l),a=N(v,b,H);return Y(v,b,H,a,H.getAgentEdges().toList(function(b){return v.isVisible(b)&&b.s(l)===f&&N(v,b,H)===a}),a===r||a===C)}function f(b,v,H){var f=b.getSourceAgent(),a=b.getTargetAgent(),y=f.getId()>a.getId(),Y=y?a:f,f=y?f:a,a=Y instanceof e.Edge,g=f instanceof e.Edge,N=a?s(v,Y):Y.p(),l=g?s(v,f):f.p(),k=H(v,b,Y),H=H(v,b,f),h=(W=b.s(c))||a?0:w(v,Y)/2,n=W||g?0:w(v,f)/2,a=W||a?0:Z(v,Y)/2,Y=W||g?0:Z(v,f)/2,W=k.offset,g=H.offset,v=k.side,f=H.side,k=new u;return v===D?(k.add({x:N.x+W,y:N.y-a}),k.add({x:N.x+W,y:l.y+g}),f===V?k.add({x:l.x-n,y:l.y+g}):k.add({x:l.x+n,y:l.y+g})):v===C?(k.add({x:N.x+W,y:N.y+a}),k.add({x:N.x+W,y:l.y+g}),f===V?k.add({x:l.x-n,y:l.y+g}):k.add({x:l.x+n,y:l.y+g})):v===V?(k.add({x:N.x-h,y:N.y+W}),k.add({x:l.x+g,y:N.y+W}),f===C?k.add({x:l.x+g,y:l.y+Y}):k.add({x:l.x+g,y:l.y-Y})):v===r&&(k.add({x:N.x+h,y:N.y+W}),k.add({x:l.x+g,y:N.y+W}),f===C?k.add({x:l.x+g,y:l.y+Y}):k.add({x:l.x+g,y:l.y-Y})),y&&k.reverse(),L(k,b)}var e=b.ht,b=Math,q=b.max,G=b.min,A=b.abs,$=b.atan2,t=(b.cos,b.sin,b.ceil),X=e.Default,H=X.getInternal(),u=e.List,T=H.Mat,R=H.getNodeRect,z=H.intersectionLineRect,M=X.getDistance,b=X.setEdgeType,v=(X.unionRect,X._edgeProtectMethod),h=v.getStraightLinePoints,n=v.getPercentPosition,V="left",r="right",D="top",C="bottom",l="edge.type",i="edge.gap",c="edge.center",S="edge.extend",s=function(b,v){b=b.getDataUI(v),v=h(b);return n(v,50)};H.addMethod(e.Style,{"edge.ripple.elevation":-20,"edge.ripple.size":1,"edge.ripple.both":!1,"edge.ripple.straight":!1,"edge.ripple.length":-1,"edge.corner.radius":-1,"edge.ortho":.5,"edge.flex":20,"edge.extend":20},!0),b("boundary",function(b,v,H,f){f||(v=-v);var f=Q(H,b),a=x(H,b),y=b._40I,b=b._41I,Y=y instanceof e.Edge,g=b instanceof e.Edge,N=new T($(a.y-f.y,a.x-f.x)),l=M(f,a),k=f.x,h=f.y,n=N.tf(0,v),f={x:n.x+k,y:n.y+h},a={x:(n=N.tf(l,v)).x+k,y:n.y+h};return Y?f={x:(n=s(H,y)).x,y:n.y}:(N=R(H,y),(n=z(f,a,N))&&(f={x:n[0],y:n[1]})),g?a={x:(n=s(H,b)).x,y:n.y}:(l=R(H,b),(n=z(f,a,l))&&(a={x:n[0],y:n[1]})),{points:new u([f,a])}}),b("ripple",function(b,v,H,f){f||(v=-v);var a=Q(H,b),H=x(H,b),y=M(a,H),Y=G(b.s("edge.offset"),y/2),g=b.s("edge.ripple.size"),N=b.s("edge.ripple.length"),l=b.s("edge.ripple.both"),k=b.s(c),h=b.s("edge.ripple.elevation"),n=new u,W=b.s("edge.ripple.straight")?null:new u,q=new T($(H.y-a.y,H.x-a.x)),d=(f||(h=-h),(y-=2*Y)/(g=0<N?t(y/N):g));W&&W.add(1);for(var X=0;X<g;X++)W&&W.add(3),0===X?n.add({x:Y+d*X,y:k?0:v}):n.add({x:Y+d*X,y:v}),n.add({x:Y+d*X+d/2,y:h+v}),l&&(h=-h);for(n.add({x:Y+y,y:k?0:v}),X=0;X<n.size();X++){var P=q.tf(n.get(X));P.x+=a.x,P.y+=a.y,n.set(X,P)}return{points:n,segments:W}}),b("h.v",function(b,v,H){v=d(b,H);var f=new u,a=b.s(c),y=Q(H,b),Y=y.x,y=y.y,g=x(H,b),N=g.x,g=g.y,l=b._40I instanceof e.Edge,k=b._41I instanceof e.Edge,h=0,n=0,W=N-Y,q=g-y;return a||(h=l?0:w(H,b._40I)/2,n=k?0:Z(H,b._41I)/2),0<=W&&q<=0?(f.add({x:Y+h,y:y+v}),f.add({x:N+v,y:y+v}),f.add({x:N+v,y:g+n})):W<=0&&0<=q?(f.add({x:Y-h,y:y+v}),f.add({x:N+v,y:y+v}),f.add({x:N+v,y:g-n})):0<=W&&0<=q?(f.add({x:Y+h,y:y+v}),f.add({x:N-v,y:y+v}),f.add({x:N-v,y:g-n})):(f.add({x:Y-h,y:y+v}),f.add({x:N-v,y:y+v}),f.add({x:N-v,y:g+n})),L(f,b)}),b("v.h",function(b,v,H){v=d(b,H);var f=new u,a=b.s(c),y=Q(H,b),Y=y.x,y=y.y,g=x(H,b),N=g.x,g=g.y,l=b._40I instanceof e.Edge,k=b._41I instanceof e.Edge,h=0,n=0,W=N-Y,q=g-y;return a||(h=k?0:w(H,b._41I)/2,n=l?0:Z(H,b._40I)/2),0<=W&&q<=0?(f.add({x:Y+v,y:y-n}),f.add({x:Y+v,y:g+v}),f.add({x:N-h,y:g+v})):W<=0&&0<=q?(f.add({x:Y+v,y:y+n}),f.add({x:Y+v,y:g+v}),f.add({x:N+h,y:g+v})):0<=W&&0<=q?(f.add({x:Y-v,y:y+n}),f.add({x:Y-v,y:g+v}),f.add({x:N-h,y:g+v})):(f.add({x:Y-v,y:y-n}),f.add({x:Y-v,y:g+v}),f.add({x:N+h,y:g+v})),L(f,b)}),b("ortho",function(b,v,H){var f=new u,a=b.s(c),y=b.s("edge.ortho"),Y=b._40I,g=b._41I,N=Q(H,b),l=N.x,N=N.y,k=x(H,b),h=k.x,k=k.y,n=h-l,W=k-N,q=Y instanceof e.Edge,d=g instanceof e.Edge,X=a||q?0:w(H,Y)/2,q=a||q?0:Z(H,Y)/2,Y=a||d?0:w(H,g)/2,a=a||d?0:Z(H,g)/2,d=(n-(X+Y)*(0<n?1:-1))*y,H=(W-(q+a)*(0<W?1:-1))*y;return A(n)<A(W)?0<=n&&W<=0?(f.add({x:l+v,y:N-q}),f.add({x:l+v,y:N+H+v-q}),f.add({x:h+v,y:N+H+v-q}),f.add({x:h+v,y:k+a})):n<=0&&0<=W?(f.add({x:l+v,y:N+q}),f.add({x:l+v,y:N+H+v+q}),f.add({x:h+v,y:N+H+v+q}),f.add({x:h+v,y:k-a})):0<=n&&0<=W?(f.add({x:l+v,y:N+q}),f.add({x:l+v,y:N+H-v+q}),f.add({x:h+v,y:N+H-v+q}),f.add({x:h+v,y:k-a})):(f.add({x:l+v,y:N-q}),f.add({x:l+v,y:N+H-v-q}),f.add({x:h+v,y:N+H-v-q}),f.add({x:h+v,y:k+a})):0<=n&&W<=0?(f.add({x:l+X,y:N+v}),f.add({x:l+d+v+X,y:N+v}),f.add({x:l+d+v+X,y:k+v}),f.add({x:h-Y,y:k+v})):n<=0&&0<=W?(f.add({x:l-X,y:N+v}),f.add({x:l+d+v-X,y:N+v}),f.add({x:l+d+v-X,y:k+v}),f.add({x:h+Y,y:k+v})):0<=n&&0<=W?(f.add({x:l+X,y:N+v}),f.add({x:l+d-v+X,y:N+v}),f.add({x:l+d-v+X,y:k+v}),f.add({x:h-Y,y:k+v})):(f.add({x:l-X,y:N+v}),f.add({x:l+d-v-X,y:N+v}),f.add({x:l+d-v-X,y:k+v}),f.add({x:h+Y,y:k+v})),L(f,b)}),b("flex",function(b,v,H){var f=new u,a=b.s("edge.flex")+P(b,H),y=b.s(c),Y=b._40I,g=b._41I,N=Q(H,b),l=N.x,N=N.y,k=x(H,b),h=k.x,k=k.y,n=Y instanceof e.Edge,W=g instanceof e.Edge,q=h-l,d=k-N,X=y||n?0:w(H,Y)/2,n=y||n?0:Z(H,Y)/2,Y=y||W?0:w(H,g)/2,y=y||W?0:Z(H,g)/2,W=0<q?a:-a,H=0<d?a:-a;return A(q)<A(d)?0<=q&&d<=0?(f.add({x:l+v,y:N-n}),f.add({x:l+v,y:N+H+v-n}),f.add({x:h+v,y:k-H+v+y}),f.add({x:h+v,y:k+y})):q<=0&&0<=d?(f.add({x:l+v,y:N+n}),f.add({x:l+v,y:N+H+v+n}),f.add({x:h+v,y:k-H+v-y}),f.add({x:h+v,y:k-y})):0<=q&&0<=d?(f.add({x:l+v,y:N+n}),f.add({x:l+v,y:N+H-v+n}),f.add({x:h+v,y:k-H-v-y}),f.add({x:h+v,y:k-y})):(f.add({x:l+v,y:N-n}),f.add({x:l+v,y:N+H-v-n}),f.add({x:h+v,y:k-H-v+y}),f.add({x:h+v,y:k+y})):0<=q&&d<=0?(f.add({x:l+X,y:N+v}),f.add({x:l+W+v+X,y:N+v}),f.add({x:h-W+v-Y,y:k+v}),f.add({x:h-Y,y:k+v})):q<=0&&0<=d?(f.add({x:l-X,y:N+v}),f.add({x:l+W+v-X,y:N+v}),f.add({x:h-W+v+Y,y:k+v}),f.add({x:h+Y,y:k+v})):0<=q&&0<=d?(f.add({x:l+X,y:N+v}),f.add({x:l+W-v+X,y:N+v}),f.add({x:h-W-v-Y,y:k+v}),f.add({x:h-Y,y:k+v})):(f.add({x:l-X,y:N+v}),f.add({x:l+W-v-X,y:N+v}),f.add({x:h-W-v+Y,y:k+v}),f.add({x:h+Y,y:k+v})),L(f,b)}),b("extend.east",function(b,v,H){var f=new u,a=b.s(S)+P(b,H),y=b.s(c),Y=Q(H,b),g=b._40I instanceof e.Edge,N=b._41I instanceof e.Edge,g=Y.x+(y||g?0:w(H,b._40I)/2),Y=Y.y,l=x(H,b),y=l.x+(y||N?0:w(H,b._41I)/2),N=l.y,H=q(g,y)+a;return N<Y?(f.add({x:g,y:Y+v}),f.add({x:H+v,y:Y+v}),f.add({x:H+v,y:N-v}),f.add({x:y,y:N-v})):(f.add({x:g,y:Y-v}),f.add({x:H+v,y:Y-v}),f.add({x:H+v,y:N+v}),f.add({x:y,y:N+v})),L(f,b)}),b("extend.west",function(b,v,H){var f=new u,a=b.s(S)+P(b,H),y=b.s(c),Y=b._40I instanceof e.Edge,g=b._41I instanceof e.Edge,N=Q(H,b),Y=N.x-(y||Y?0:w(H,b._40I)/2),N=N.y,l=x(H,b),y=l.x-(y||g?0:w(H,b._41I)/2),g=l.y,H=G(Y,y)-a;return g<N?(f.add({x:Y,y:N+v}),f.add({x:H-v,y:N+v}),f.add({x:H-v,y:g-v}),f.add({x:y,y:g-v})):(f.add({x:Y,y:N-v}),f.add({x:H-v,y:N-v}),f.add({x:H-v,y:g+v}),f.add({x:y,y:g+v})),L(f,b)}),b("extend.north",function(b,v,H){var f=new u,a=b.s(S)+P(b,H),y=b.s(c),Y=b._40I instanceof e.Edge,g=b._41I instanceof e.Edge,N=Q(H,b),l=N.x,N=N.y-(y||Y?0:Z(H,b._40I)/2),Y=x(H,b),k=Y.x,Y=Y.y-(y||g?0:Z(H,b._41I)/2),y=G(N,Y)-a;return k<l?(f.add({y:N,x:l+v}),f.add({y:y-v,x:l+v}),f.add({y:y-v,x:k-v}),f.add({y:Y,x:k-v})):(f.add({y:N,x:l-v}),f.add({y:y-v,x:l-v}),f.add({y:y-v,x:k+v}),f.add({y:Y,x:k+v})),L(f,b)}),b("extend.south",function(b,v,H){var f=new u,a=b.s(S)+P(b,H),y=b.s(c),Y=b._40I instanceof e.Edge,g=b._41I instanceof e.Edge,N=Q(H,b),l=N.x,N=N.y+(y||Y?0:Z(H,b._40I)/2),Y=x(H,b),k=Y.x,Y=Y.y+(y||g?0:Z(H,b._41I)/2),y=q(N,Y)+a;return k<l?(f.add({y:N,x:l+v}),f.add({y:y+v,x:l+v}),f.add({y:y+v,x:k-v}),f.add({y:Y,x:k-v})):(f.add({y:N,x:l-v}),f.add({y:y+v,x:l-v}),f.add({y:y+v,x:k+v}),f.add({y:Y,x:k+v})),L(f,b)});b("ortho2",function(b,v,H,f){var a,y,Y=b.s(c),g=b.s("edge.ortho"),N=b.getSourceAgent(),l=b.getTargetAgent(),k=N.getId()>l.getId(),h=k?l:N,N=k?N:l,l=h instanceof e.Edge,n=N instanceof e.Edge,W=l?s(H,h):h.p(),q=n?s(H,N):N.p(),d=J(H,b,h),X=J(H,b,N),P=Y||l?0:w(H,h)/2,l=Y||l?0:Z(H,h)/2,h=Y||n?0:w(H,N)/2,Y=Y||n?0:Z(H,N)/2,n=new u,H=d.offset,N=X.offset,X=d.side;return X===r?(a=q.y>W.y?-H:H,y=W.x+P+(q.x-h-W.x-P)*g,n.add({x:W.x+P,y:W.y+H}),n.add({x:y+a,y:W.y+H}),n.add({x:y+a,y:q.y+N}),n.add({x:q.x-h,y:q.y+N})):X===V?(a=q.y>W.y?-H:H,y=W.x-P-(W.x-P-q.x-h)*g,n.add({x:W.x-P,y:W.y+H}),n.add({x:y-a,y:W.y+H}),n.add({x:y-a,y:q.y+N}),n.add({x:q.x+h,y:q.y+N})):X===C?(a=q.x>W.x?-H:H,y=W.y+l+(q.y-Y-W.y-l)*g,n.add({x:W.x+H,y:W.y+l}),n.add({x:W.x+H,y:y+a}),n.add({x:q.x+N,y:y+a}),n.add({x:q.x+N,y:q.y-Y})):X===D&&(a=q.x>W.x?-H:H,y=W.y-l-(W.y-l-q.y-Y)*g,n.add({x:W.x+H,y:W.y-l}),n.add({x:W.x+H,y:y-a}),n.add({x:q.x+N,y:y-a}),n.add({x:q.x+N,y:q.y+Y})),k&&n.reverse(),L(n,b)},!0),b("flex2",function(b,v,H,f){var a,y=b.getSourceAgent(),Y=b.getTargetAgent(),g=y.getId()>Y.getId(),N=g?Y:y,y=g?y:Y,Y=N instanceof e.Edge,l=y instanceof e.Edge,k=Y?s(H,N):N.p(),h=l?s(H,y):y.p(),n=J(H,b,N),W=J(H,b,y),q=b.s(c),d=b.s("edge.flex")+(n.size-1)/2*b.s(i),X=q||Y?0:w(H,N)/2,Y=q||Y?0:Z(H,N)/2,N=q||l?0:w(H,y)/2,q=q||l?0:Z(H,y)/2,l=new u,H=n.offset,y=W.offset,W=n.side;return W===r?(a=h.y>k.y?-H:H,l.add({x:k.x+X,y:k.y+H}),l.add({x:k.x+X+d+a,y:k.y+H}),l.add({x:h.x-N-d+a,y:h.y+y}),l.add({x:h.x-N,y:h.y+y})):W===V?(a=h.y>k.y?-H:H,l.add({x:k.x-X,y:k.y+H}),l.add({x:k.x-X-d-a,y:k.y+H}),l.add({x:h.x+N+d-a,y:h.y+y}),l.add({x:h.x+N,y:h.y+y})):W===C?(a=h.x>k.x?-H:H,l.add({x:k.x+H,y:k.y+Y}),l.add({x:k.x+H,y:k.y+Y+d+a}),l.add({x:h.x+y,y:h.y-q-d+a}),l.add({x:h.x+y,y:h.y-q})):W===D&&(a=h.x>k.x?-H:H,l.add({x:k.x+H,y:k.y-Y}),l.add({x:k.x+H,y:k.y-Y-d-a}),l.add({x:h.x+y,y:h.y+q+d-a}),l.add({x:h.x+y,y:h.y+q})),g&&l.reverse(),L(l,b)},!0),b("extend.north2",function(b,v,H){var f=b.getSourceAgent(),a=b.getTargetAgent(),y=f.getId()>a.getId(),Y=y?a:f,f=y?f:a,a=Y instanceof e.Edge,g=f instanceof e.Edge,N=a?s(H,Y):Y.p(),l=g?s(H,f):f.p(),k=W(H,b,Y,D),h=W(H,b,f,D,!0),n=b.s(c),a=n||a?0:Z(H,Y)/2,Y=n||g?0:Z(H,f)/2,n=k.offset,g=h.offset,H=b.s(S)+(k.size-1)/2*b.s(i),f=G(N.y-a,l.y-Y)-H+(N.x<l.x?n:-n),h=new u;return h.add({x:N.x+n,y:N.y-a}),h.add({x:N.x+n,y:f}),h.add({x:l.x+g,y:f}),h.add({x:l.x+g,y:l.y-Y}),y&&h.reverse(),L(h,b)},!0),b("extend.south2",function(b,v,H){var f=b.getSourceAgent(),a=b.getTargetAgent(),y=f.getId()>a.getId(),Y=y?a:f,f=y?f:a,a=Y instanceof e.Edge,g=f instanceof e.Edge,N=a?s(H,Y):Y.p(),l=g?s(H,f):f.p(),k=W(H,b,Y,C),h=W(H,b,f,C,!0),n=b.s(c),a=n||a?0:Z(H,Y)/2,Y=n||g?0:Z(H,f)/2,n=k.offset,g=h.offset,H=b.s(S)+(k.size-1)/2*b.s(i),f=q(N.y+a,l.y+Y)+H+(N.x>l.x?n:-n),h=new u;return h.add({x:N.x+n,y:N.y+a}),h.add({x:N.x+n,y:f}),h.add({x:l.x+g,y:f}),h.add({x:l.x+g,y:l.y+Y}),y&&h.reverse(),L(h,b)},!0),b("extend.west2",function(b,v,H){var f=b.getSourceAgent(),a=b.getTargetAgent(),y=f.getId()>a.getId(),Y=y?a:f,f=y?f:a,a=Y instanceof e.Edge,g=f instanceof e.Edge,N=a?s(H,Y):Y.p(),l=g?s(H,f):f.p(),k=W(H,b,Y,D),h=W(H,b,f,D,!0),n=b.s(c),a=n||a?0:w(H,Y)/2,Y=n||g?0:w(H,f)/2,n=k.offset,g=h.offset,H=b.s(S)+(k.size-1)/2*b.s(i),f=G(N.x-a,l.x-Y)-H+(N.y<l.y?n:-n),h=new u;return h.add({x:N.x-a,y:N.y+n}),h.add({x:f,y:N.y+n}),h.add({x:f,y:l.y+g}),h.add({x:l.x-Y,y:l.y+g}),y&&h.reverse(),L(h,b)},!0),b("extend.east2",function(b,v,H){var f=b.getSourceAgent(),a=b.getTargetAgent(),y=f.getId()>a.getId(),Y=y?a:f,f=y?f:a,a=Y instanceof e.Edge,g=f instanceof e.Edge,N=a?s(H,Y):Y.p(),l=g?s(H,f):f.p(),k=W(H,b,Y,D),h=W(H,b,f,D,!0),n=b.s(c),a=n||a?0:w(H,Y)/2,Y=n||g?0:w(H,f)/2,n=k.offset,g=h.offset,H=b.s(S)+(k.size-1)/2*b.s(i),f=q(N.x+a,l.x+Y)+H+(N.y>l.y?n:-n),h=new u;return h.add({x:N.x+a,y:N.y+n}),h.add({x:f,y:N.y+n}),h.add({x:f,y:l.y+g}),h.add({x:l.x+Y,y:l.y+g}),y&&h.reverse(),L(h,b)},!0),b("v.h2",function(b,v,H){return f(b,H,a)},!0),b("h.v2",function(b,v,H){return f(b,H,k)},!0)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);