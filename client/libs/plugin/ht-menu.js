!function(U,C){"use strict";function A(){return document}function G(U){return A().createElement(U)}function J(U,C,F){U.style.setProperty(C,F,x)}function s(U,C){U.appendChild(C)}var F,q=U.ht,t="innerHTML",E="className",x=null,V="px",T=q.Default,K=T.getInternal(),k="0",y=K.addEventListener,M=K.removeEventListener,_=T.isTouchable,p=T.isTouchEvent;K.addMethod(T,{menuLabelFont:(_?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),q.widget.Menu=function(U){var C=this,F=C._view=K.createView(null,C),c=C.$1g=new q.widget.ContextMenu,y=G("ul");c._r=!0,c._view[E]+=" ht-widget-dropdownmenu",F[E]="ht-widget-menu",y[E]="header",J(F,"margin",k),J(F,"padding",k),J(F,"background",T.menuBackground),J(F,"-webkit-user-select","none"),J(F,"-moz-user-select","none"),J(F,"user-select","none"),J(F,"text-align","left"),J(F,"border-bottom",T.menuSeparatorWidth+"px solid "+T.menuSeparatorColor),J(F,"cursor","default"),J(F,"overflow","auto"),J(F,"white-space","nowrap"),J(F,"font",T.menuLabelFont),J(F,"color",T.menuLabelColor),J(F,"box-sizing","border-box"),J(F,"-moz-box-sizing","border-box"),J(y,"list-style","none"),J(y,"margin",k),J(y,"padding",k),J(y,"display","inline-block"),s(F,y),C.setItems(U),C.$2g=function(U){C.$3g(U)},C.$4g=function(U){C.$5g(U)},C.$6g=function(U){C.$7g(U)},C.$8g=function(U){C.$9g(U)},C.$9b=function(U){C.$10g(U)},C._autoShow=!0,C.setAutoShow(!1),c.afterHide=function(){C.$11g()},c.afterShow=function(){C.$12g()},M(A(),"keydown",c.$3b),C.$3b=function(U){C.$13g(U)},C.invalidate()},U="Menu",F={_items:x,$14g:T.menuHoverBackground,$15g:T.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(U){var C=this;if(C.$21g=U,C.setItems(C._items),"largeicons"===U){for(var F=C._view.querySelectorAll(".header-item"),c=0,y=0;y<F.length;y++)var q=F[y],c=Math.max(c,q.clientWidth);for(y=0;y<F.length;y++){q=F[y];J(q,"min-width",c+V)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(U){this.$22g=U;for(var C=this._view.querySelectorAll(".header-item"),F=0;F<C.length;F++){var c=C[F];J(c,"margin-left",U+V),J(c,"margin-right",U+V)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(U){this.$23g=U;for(var C=this._view.querySelectorAll(".header-item"),F=0;F<C.length;F++){var c=C[F];J(c,"margin-top",U+V),J(c,"margin-bottom",U+V)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(U){this.$24g=U,J(this._view,"text-align",U)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){!1===this._enableGlobalKey&&(y(A(),"keydown",this.$3b),this._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,M(A(),"keydown",this.$3b)},setHoverBackground:function(U){this.$14g=U},setHoverColor:function(U){this.$15g=U},setItems:function(U){var C=this,F=C._view,c=C.$21g;if(C._items=U,F.children[0][t]="",C.$16g={},U&&U.length){for(var F=F.children[0],y=0,q=A().createDocumentFragment();y<U.length;y++){var V,T=U[y],K=G("li"),x=G("span");T.icon&&((V=G("canvas"))[E]="menu-item-icon","smallicons"===c?(J(V,"height","1.2em"),J(V,"width","1.2em"),J(V,"vertical-align","middle")):(J(V,"height","32px"),J(V,"width","32px"),J(V,"display","block"),J(V,"margin","0 auto")),V.$20g=T.icon,s(K,V)),K[E]="header-item",J(K,"display","inline-block"),J(K,"vertical-align","top"),J(K,"padding","0 1.2em"),J(K,"line-height","1.8em"),"largeicons"===c&&J(K,"text-align","center"),J(K,"background-color","rgba(0,0,0,0)"),K.setAttribute("data-index",y),C.$16g[y]=T.items,x[t]=T.label,"iconsonly"!==c&&s(K,x),s(q,K)}s(F,q)}},showDropdownMenu:function(U){var C,F=this,c=F.$16g[U],y=F.$1g,U=F._view.children[0].children[U],q=F.$17g;U&&U!==q&&(q&&F.hideDropdownMenu(),q=U.getBoundingClientRect(),C=T.getWindowInfo(),F.$17g=U,y.setItems(c),y.show(q.left+C.left,q.top+q.height+C.top,!1))},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(U,C){var F=this._items;return F&&0!==F.length?this.$1g.getItemByProperty(U,C,F):x},$12g:function(){var U=this,C=U.$17g;C.style.background=U.$14g,C.style.color=U.$15g,U._autoShow||y(A(),_?"touchstart":"mousedown",U.$9b)},$11g:function(){var U=this.$17g;U&&(U.style.background="",U.style.color="",this.$17g=x),M(A(),_?"touchstart":"mousedown",this.$9b)},$10g:function(U){var C=this._view,F=this.$1g,c=C.children[0];!A().body.contains(C)||c.contains(U.target)||F._view.contains(U.target)||this.hideDropdownMenu()},$13g:function(U){var C=this.$1g;A().body.contains(this._view)&&C.$13b.$4b.call(C.$13b,U,this._items)},setAutoShow:function(U){var C=this,F=C.$1g,c=C._view;C._autoShow!==U&&(C._autoShow?(M(c,"mouseover",C.$2g),M(c,"mouseout",C.$4g),M(F._view,"mouseout",C.$4g),_||(y(c,"mouseover",C.$8g),y(c,"mouseout",C.$8g)),y(c,_?"touchstart":"mousedown",C.$6g)):(M(c,"mouseover",C.$8g),M(c,"mouseout",C.$8g),M(c,_?"touchstart":"mousedown",C.$6g),M(A(),_?"touchstart":"mousedown",C.$9b),_||(y(c,"mouseover",C.$2g),y(c,"mouseout",C.$4g),y(F._view,"mouseout",C.$4g))),C._autoShow=U)},$3g:function(U){var C=this._view.children[0],F=U.target;if(C!==F&&C.contains(F)){for(;"header-item"!==F[E];)F=F.parentNode;this.showDropdownMenu(F.getAttribute("data-index"))}},$5g:function(U){var C=this._view.children[0],F=this.$1g,c=U.target,U=U.relatedTarget;!C.contains(c)&&!F._view.contains(c)||C.contains(U)||F._view.contains(U)||this.hideDropdownMenu()},$7g:function(U){U.preventDefault();var C=this,F=C._view.children[0],c=C.$1g,y=U.target;if(T.isLeftButton(U)&&F!==y&&F.contains(y))if(p(U)){for(;"header-item"!==y[E];)y=y.parentNode;var F=y.getAttribute("data-index"),c=C.$1g,U=C._view.children[0].children[F],q=C.$17g;c.isShowing()&&C.hideDropdownMenu(),U!==q&&C.showDropdownMenu(F)}else if(c.isShowing())C.hideDropdownMenu();else{for(;"header-item"!==y[E];)y=y.parentNode;C.showDropdownMenu(y.getAttribute("data-index"))}},$9g:function(U){var C=this,F=C._view,c=C.$1g,y=U.target;if(F.contains(y)){for(var q=F.querySelectorAll(".header-item"),V=x,T=0;T<q.length;T++){var K=q[T];K.style.background="",K.style.color="","mouseover"===U.type?K.contains(y)&&(V=K):"mouseout"===U.type&&c.isShowing()&&C.$17g===K&&(V=K)}c.isShowing()&&(V=V||C.$17g,C.showDropdownMenu(V.getAttribute("data-index"))),V&&(V.style.background=C.$14g,V.style.color=C.$15g)}},getShowingMenuIndex:function(){var U=this.$17g;return U?U.getAttribute("data-index"):-1},addTo:function(U){var C=this._view;s(U,C),this.invalidate()},dispose:function(){var U=this,C=U._view,F=U.$1g;C&&(U._autoShow?(M(C,"mouseover",U.$2g),M(C,"mouseout",U.$4g),M(F._view,"mouseout",U.$4g)):(M(C,"mouseover",U.$8g),M(C,"mouseout",U.$8g),M(C,_?"touchstart":"mousedown",U.$6g),M(A(),_?"touchstart":"mousedown",U.$9b)),M(A(),"keydown",U.$3b),F.dispose(),C.parentNode&&C.parentNode.removeChild(C),U._view=U.$1g=U.$16g=U._items=U.$17g=U.$2g=U.$4g=U.$6g=U.$8g=U.$9b=U.$3b=x)},$19g:function(U,C,F,c){U=K.initContext(U);K.translateAndScale(U,0,0,1),U.clearRect(0,0,F,c),T.drawStretchImage(U,T.getImage(C),"fill",0,0,F,c),U.restore()},validateImpl:function(){for(var U=this._view.querySelectorAll(".menu-item-icon"),C=0;C<U.length;C++){var F=U[C],c=F.clientWidth,y=F.clientHeight;c&&y&&(K.setCanvas(F,c,y),this.$19g(F,T.getImage(F.$20g),c,y))}}},T.def(q.widget[U],C,F)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);