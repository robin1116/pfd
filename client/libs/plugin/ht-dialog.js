!function(H,W){"use strict";function X(W){return w().createElement(W)}function M(){var W=X("div");return W.tabIndex=-1,W.style.outline="none",W}function g(){return X("canvas")}function d(W,c){v(W,"-webkit-transform",c),v(W,"-ms-transform",c),v(W,"transform",c)}function v(W,c,$){W.style.setProperty(c,$,Q)}function a(W,c){W.appendChild(c)}function c(){return w().documentElement}function J(){return c().clientWidth}function z(){return c().clientHeight}function I(W){var c=W.touches[0];return c||W.changedTouches[0]}function y(W){this.$1d=W,this.addListeners()}var L=H.ht,G="px",s="left",h="top",j="bottom",b="right",R="innerHTML",l="className",B="width",x="height",u="position",m="absolute",E="0",Y="opacity",N="background",q=L.Default,O=q.getInternal(),$=L.Color,K=q.animate,r=q.isTouchable,e=q.isTouchEvent,Q=null,D=(Math.sqrt,H.parseInt),A=H.setTimeout,o=(Math.round,$.titleIconBackground),w=function(){return document},Z=O.addEventListener,P=O.removeEventListener;O.addMethod(q,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:o},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:o}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:o},{type:"rect",rect:[10,10,80,20],background:o}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:o},{type:"rect",rect:[10,34,56,14],background:o},{type:"rect",rect:[34,10,56,14],background:o},{type:"rect",rect:[82,10,8,56],background:o},{type:"rect",rect:[66,62,24,8],background:o}]},dialogTitleLabelColor:q.labelSelectColor,dialogTitleLabelFont:(r?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:q.labelFont,dialogTitleBackground:$.titleBackground,dialogHeaderBackground:$.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);q.def(y,W,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(W){var c=this,$=c.$1d,g=$.$6d,y=$._config,$=$.$7d,O=W,H=W.target;$.contains(H)||q.preventDefault(W),q.isLeftButton(W)&&(e(W)&&(O=I(W)),O=c.$8d={x:O.pageX,y:O.pageY},c.$9d={x:O.x,y:O.y},!y.maximized&&y.draggable&&g.contains(H)&&(c.$4d=!0,q.startDragging(c,W)),c.handle_mousemove(W)&&(c.$2d=!0,q.startDragging(c,W)),$.contains(H)||H.focus())},handle_mousedown:function(W){this.handle_touchstart(W)},handle_touchend:function(W){if(q.isLeftButton(W)&&!this.$5d&&!this.$3d){var c=this.$1d,$=W.target,g=c._config,y=c.$18d,O=c.$16d;for(g.closable&&y.contains($)&&c.hide(),g.maximizable&&O.contains($)&&(g.maximized?c.restore():c.maximize());$&&($.className||"").indexOf("dialog-button")<0;)$=$.parentNode;$&&$.buttonItem&&c.action&&c.action($.buttonItem,W),delete this.$8d,delete this.$9d}},handle_mouseup:function(W){this.handle_touchend(W)},handleWindowTouchEnd:function(W){var c=this,$=c.$1d,g=$.$10d;c.$2d&&c.$3d?g.fire({kind:"endResize",target:$,originEvent:W}):c.$4d&&c.$5d&&g.fire({kind:"endMove",target:$,originEvent:W}),this.clear()},handleWindowMouseUp:function(W){this.handleWindowTouchEnd(W)},handle_mousemove:function(W){var c,$,g=this.$1d._config;return!g.maximized&&(("w"===g.resizeMode||"h"===g.resizeMode||"wh"===g.resizeMode)&&(c={x:(c=(g=this.getView()).querySelector(".resize-area").getBoundingClientRect()).left,y:c.top,width:c.width,height:c.height},$=(W=e(W)?I(W):W).clientX,W=W.clientY,q.containsPoint(c,{x:$,y:W})?(v(g,"cursor","nwse-resize"),!0):void v(g,"cursor","")))},handleWindowTouchMove:function(W){W.preventDefault();var c,$,g,y,O,H,d,Y,X,M,a=W,L=(e(W)&&(a=I(W)),this),j=L.$8d,b=L.$9d;b.x==j.x&&b.y==j.y&&q.getDistance(b,{x:a.pageX,y:a.pageY})<=1||(c=(b=L.$1d)._config,$=b.$21d,M=c.resizeMode||"wh",Y=a.pageX-j.x,a=a.pageY-j.y,L.$2d?(g=(y=$.offsetWidth)+Y,O=(H=$.offsetHeight)+a,g=Math.max(g,50),O=Math.max(O,50),"center"!==c.position&&c.position!=Q||(X={},d=$.getBoundingClientRect(),X.x=d.left,X.y=d.top,c.position=X),"w"===M?(b.setSize(g,H),j.x+=g-y):"h"===M?(b.setSize(y,O),j.y+=O-H):"wh"===M&&(b.setSize(g,O),j.x+=g-y,j.y+=O-H),L.$3d?b.$10d.fire({kind:"betweenResize",target:b,originEvent:W}):(L.$3d=!0,b.$10d.fire({kind:"beginResize",target:b,originEvent:W}))):L.$4d&&(X=(d=$.getBoundingClientRect()).width,M=d.height,g=J(),y=z(),O=D($.style.left)||0,H=D($.style.top)||0,(a=b.adjustPosition({x:d=O+Y,y:Y=H+a},{width:X,height:M},{width:g,height:y}))&&(d=a.x,Y=a.y),X=d-O,M=Y-H,v($,s,d+G),v($,h,Y+G),j.x+=X,j.y+=M,c.position={x:d,y:Y},L.$5d?b.$10d.fire({kind:"betweenMove",target:b,originEvent:W}):(L.$5d=!0,b.$10d.fire({kind:"beginMove",target:b,originEvent:W}))))},handleWindowMouseMove:function(W){this.handleWindowTouchMove(W)},handleWindowResize:function(){var W=this,c=W._config,$=W.$21d,g=J(),y=z(),O=c.width,H=c.height,d=c.position||"center";c.maximized?(v($,B,g+G),v($,x,y+G),v($,h,E),v($,s,E)):(v($,B,O+G),v($,x,H+G),"center"===d?(v($,s,(g-O)/2+G),v($,h,(y-H)/2+G)):(v($,s,d.x+G),v($,h,d.y+G))),W.iv()},handle_mousewheel:function(W){W.stopPropagation()},handle_DOMMouseScroll:function(W){W.stopPropagation()}}),L.widget.Dialog=function(W){var c=this,$=c._view=O.createView(null,c),$=($[l]="ht-widget-dialog",v($,u,m),v($,h,E),v($,j,E),v($,s,E),v($,b,E),v($,B,"auto"),v($,x,"auto"),q.baseZIndex!=Q&&v($,"z-index",q.baseZIndex+""),c.$11d=new y(c));c.bindingHandleWindowResize=$.handleWindowResize.bind(c),c.$10d=new L.Notifier,W&&c.setConfig(W)},o="Dialog",$={ms_v:1,ms_fire:1,_modal:!0,setTitle:function(W){this._config.title=W,this.getView().querySelector(".dialog-container-title span").innerHTML=W},clearNodes:function(W){if(W)for(;W.firstChild;)W.removeChild(W.firstChild)},$31d:function(){var W,c=this,$=c.$25d(),g=c.$6d=M(),y=c._config,O=c.$12d=c.$13d(),H=X("span"),d=0,Y=D(O.style.right);return g[l]="dialog-container-title",v(g,"cursor","default"),v(g,"white-space","nowrap"),v(g,"overflow","hidden"),v(g,"font",q.dialogTitleLabelFont),v(g,N,y.titleBackground||q.dialogTitleBackground),v(g,"color",y.titleColor||q.dialogTitleLabelColor),v(g,u,m),v(g,s,E),v(g,b,E),v(g,"display","block"),v(g,"line-height",$+G),v(g,"height",$+G),y.titleAlign&&v(g,"text-align",y.titleAlign),y.titleIcon&&($=c.$14d=c.$15d(),a(g,$),d=D($.style.width)+D($.style.marginRight)),y.title&&y.title.trim&&(y.title=y.title.trim()),H[R]=y.title||"&nbsp;",a(g,H),y.maximizable&&($=c.$16d=c.$17d(),a(O,$),W=D($.style.marginRight),Y+=D($.style.width)+W),y.closable&&($=c.$18d=c.$19d(),a(O,$),W=D($.style.marginRight),Y+=D($.style.width)+W),W&&(Y+=W/2),v(H,b,Y+G),v(H,s,d+G),v(H,u,m),v(H,h,E),v(H,j,E),v(H,"text-overflow","ellipsis"),v(H,"overflow","hidden"),a(g,O),g},$13d:function(){var W=M();return v(W,u,m),v(W,s,E),v(W,b,5+G),v(W,h,E),v(W,j,E),v(W,"text-align",b),v(W,"white-space","nowrap"),W[l]="dialog-title-controls",W},$20d:function(){var W=this.$21d=M(),c=this._config,$=c.borderWidth;return v(W,u,"fixed"),v(W,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),v(W,"padding","0 "+$+G+" "+$+G+" "+$+G),v(W,"box-sizing","border-box"),v(W,"-moz-box-sizing","border-box"),W[l]="dialog-container",v(W,N,c.titleBackground||q.dialogTitleBackground),W},$22d:function(){var W,c,$=this._config,g=this.$7d=M(),y=$.content,O=0,H=$.contentPadding||0,d=($.buttons!=Q&&0<$.buttons.length&&(O=$.buttonsHeight||32),"string"==typeof(d=y)||d instanceof String?g[R]=y:y.getView?(W=y.getView(),a(g,W)):a(g,W=y),v(g,u,m),v(g,"font",q.dialogContentLabelFont),$.width&&v(g,B,$.width-10-2*H+G),W&&(c=W.style[u],v(W,u,"unset")),L.Default.appendToScreen(g),g.offsetWidth+1),y=g.offsetHeight,Y=this.$25d();return $.width==Q?$.width=d+10+2*H:v(g,B,"auto"),$.height==Q&&($.height=y+Y+O+5+2*H),L.Default.removeHTML(g),W&&(v(W,"box-sizing","border-box"),v(W,"-moz-box-sizing","border-box"),v(W,B,"100%"),v(W,x,"100%"),c&&v(W,u,c)),g[l]="dialog-content",v(g,h,Y+H+G),v(g,j,O+H+G),v(g,s,H+G),v(g,b,H+G),v(g,"overflow","hidden"),g},getOverlayDiv:function(){return this.$41d},$23d:function(){if(this.$41d)return this.$41d;var W=this.$41d=M();return W[l]="dialog-overlay",v(W,u,m),v(W,h,E),v(W,j,E),v(W,s,E),v(W,b,E),v(W,N,"rgba(235, 235, 235, 0.7)"),W},_config:Q,setSize:function(W,c){var $=this._config;$&&($.width=W,$.height=c,this.isShowing()&&(this.bindingHandleWindowResize(),this.iv()))},getConfig:function(){return this._config},$24d:function(){var W=this._config.titleIconSize||16;return r&&(W*=1.2),W},$25d:function(){return this._config.titleHeight||q.widgetTitleHeight},$26d:function(W){var c=this._config;v(W,"margin-right",(c.titleIconGap||(r?8:4))+G),v(W,"cursor","pointer"),v(W,"display","inline-block"),v(W,"vertical-align",h)},$27d:function(){var W=this.$30d=M(),c=r?20:10;return v(W,B,c+G),v(W,x,c+G),v(W,u,m),v(W,j,E),v(W,b,E),W[l]="resize-area",W},$15d:function(){var W=g(),c=(W[l]="dialog-title-control dialog-title-control-icon",this.$25d()),$=this.$24d();return this.$26d(W),O.setCanvas(W,$,c),W},$17d:function(){var W=g(),c=(W[l]="dialog-title-control dialog-title-control-maximize",this.$25d()),$=this.$24d();return this.$26d(W),O.setCanvas(W,$,c),W},$19d:function(){var W=g(),c=(W[l]="dialog-title-control dialog-title-control-close",this.$25d()),$=this.$24d();return this.$26d(W),O.setCanvas(W,$,c),W},$28d:function(){var W=M();return v(W,N,q.dialogContentBackground||"white"),v(W,B,"100%"),v(W,x,"100%"),v(W,u,"relative"),W},$29d:function(){var H=this,d=M(),W=(v(d,"font-size",0+G),v(d,u,m),v(d,j,E),v(d,s,E),v(d,"white-space","nowrap"),v(d,"overflow","hidden"),v(d,b,E),v(d,N,q.dialogHeaderBackground),d[l]="dialog-container-buttons",this._config),Y=W.buttonsAlign||b,c=W.buttonsHeight||32,X=0;return v(d,"text-align",Y),v(d,"line-height",c+G),H.$42d=[],W.buttons.forEach(function(c){var W,$={};for(W in c)$[W]=c[W];c.background||($.background=q.dialogButtonBackground),c.selectBackground||($.selectBackground=q.dialogButtonSelectBackground),c.labelColor||($.labelColor=q.dialogButtonLabelColor);var g=q.createObject(L.widget.Button,$),y=g.getView(),O=(y[l]="dialog-button "+c.className,y.buttonItem=c,H.$42d.push(g),v(y,u,"relative"),v(y,"display","inline-block"),v(y,"text-align",s),v(y,"height",24+G),r?10:5),O=(Y===s||Y===b?v(y,"margin-"+Y,O+G):0!==X&&v(y,"margin-"+s,O+G),v(y,"vertical-align","middle"),q.getTextSize(g.getLabelFont(),c.label).width+10);g.onClicked=function(W){c.action&&c.action.call(H,c,W)},v(y,B,O+G),a(d,g.getView()),X++}),d},setConfig:function(W){var c,$,g,y,O,H,d,Y;W&&($=(c=this)._view,c._config=W,c.action=W.action,c.clearNodes($),W.borderWidth==Q&&(W.borderWidth=5),Y=c.$23d(),g=c.$28d(),y=c.$31d(),O=c.$22d(),H=c.$20d(),d=c.$30d=c.$27d(),a($,Y),a($,H),a(H,g),a(g,y),a(g,O),W.buttons!=Q&&0<W.buttons.length&&(Y=c.$29d(),a(g,Y)),a(H,d),W.maximized?(W.maximized=!1,c.bindingHandleWindowResize(),c.maximize(!0)):c.bindingHandleWindowResize(),c.isShowing()&&c.iv())},hide:function(){var W=this,c=W.$21d,$=W.$41d,g=W._view;g[l]="ht-widget-dialog",K(c).duration(200).scale(.7).set(Y,E).end(function(){W.onHidden&&W.onHidden(),L.Default.removeHTML(g),W.$10d.fire({kind:"hide",target:W})}),K($).duration(200).set(Y,E).end(),P(H,"resize",W.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(W){this._modal=W;this.$23d().style.display=W?"block":"none";var c=this._view;v(c,B,W?"auto":E),v(c,x,W?"auto":E)},isModal:function(){return this._modal},$32d:function(){var W=this,c=W._config,$=W.$21d;d($,""),W.iv(),c.maximized?W.$10d.fire({kind:"maximize",target:W}):W.$10d.fire({kind:"restore",target:W})},maximize:function(W){var c,$,g,y=this,O=y.$21d,H=y._config;H.maximized||(H.maximized=!0,y.$33d(),y.$16d[l]="dialog-title-control dialog-title-control-minimize",$=H.width,H=H.height,g=D(O.style.left)||0,c=D(O.style.top)||0,y.$36d=$,y.$37d=H,y.$34d=g,y.$35d=c,$=W?0:200,g=(H=this._view.parentNode)&&H!==document.body?this._view.parentNode.getBoundingClientRect():q.getWindowInfo(),K(O).duration($).set(s,g.left+G).set(h,g.top+G).set(B,g.width+G).set(x,g.height+G).end(function(){y.$32d()}))},restore:function(){var W=this,c=W.$34d,$=W.$35d,g=W.$36d,y=W.$37d,O=W._config;O.maximized&&(O.maximized=!1,W.$33d(),W.$16d[l]="dialog-title-control dialog-title-control-maximize",W.isShowing()&&c!=Q&&$!=Q&&g!=Q&&y!=Q&&(O=W.$21d,K(O).duration(200).set(s,c+G).set(h,$+G).set(B,g+G).set(x,y+G).end(function(){W.$32d()}))),delete W.$34d,delete W.$35d,delete W.$36d,delete W.$37d},show:function(W){var c=this,$=c._view,g=c._config,y=c.$21d,O=c.$41d;W=W||g.parentDOM,g&&g.zIndex!=Q&&v($,"z-index",g.zIndex+""),W?L.Default.appendChild(W,$):L.Default.appendToScreen($),d(y,"scale(0.7)"),v(y,Y,E),c.iv(),c.validate(),c._view[l]+=" dialog-show",A(function(){K(y).duration(200).scale(1).set(Y,"1").end(function(){v(y,B,y.clientWidth+G),v(y,x,y.clientHeight+G),c.onShown&&c.onShown(),c.$10d.fire({kind:"show",target:c});var W=g&&g.content;W&&W.iv&&W.iv()}),K(O).duration(200).set(Y,"1").end(),Z(H,"resize",c.bindingHandleWindowResize)},30)},setPosition:function(W){var c=this.$21d;c.style.left=W.x+"px",c.style.top=W.y+"px"},addEventListener:function(W,c,$){this.$10d.add(W,c,$)},removeEventListener:function(W,c){this.$10d.remove(W,c)},$38d:function(W,c,$,g){W=O.initContext(W),O.translateAndScale(W,0,0,1),W.clearRect(0,0,$,$),$=($-g)/2;q.drawStretchImage(W,q.getImage(c),"fill",0,$,g,g),W.restore()},$33d:function(){var W,c,$=this,g=$._config,y=$.$16d,g=g.maximized?q.dialogRestoreIcon:q.dialogMaximizeIcon;y&&g&&(W=$.$25d(),c=$.$24d(),$.$38d(y,q.getImage(g),W,c))},$39d:function(){var W,c,$=this,g=$._config,y=$.$14d,g=g.titleIcon;y&&g&&(W=$.$25d(),c=$.$24d(),$.$38d(y,q.getImage(g),W,c))},$40d:function(){var W,c,$=this.$18d,g=q.dialogCloseIcon;$&&g&&(W=this.$25d(),c=this.$24d(),this.$38d($,q.getImage(g),W,c))},invalidate:function(W){var c=this,$=c.$42d,W=(c._68I||(c._68I=1,q.callLater(c.validate,c,Q,W),c.onInvalidated&&c.onInvalidated(),c.fireViewEvent("invalidate")),c._config.content);W.invalidate&&W.invalidate(),$&&$.forEach(function(W){W.iv()})},validateImpl:function(){var W=this,c=(W.$40d(),W.$33d(),W.$39d(),W._config.content);c.initView&&(c.setX(0),c.setY(0),c.setWidth(W.$7d.clientWidth),c.setHeight(W.$7d.clientHeight))},adjustPosition:function(W,c,$){var g=c.width,c=c.height,y=$.width,$=$.height,O=W.x,W=W.y,H=this._config,d=H.minDragSize||20;return"inside"===H.dragMode?((O=y<O+g?y-g:O)<0&&(O=0),(W=$<W+c?$-c:W)<0&&(W=0)):null!=H.dragMode&&"none"!==H.dragMode||(y-d<(O=O<-g+d?-g+d:O)&&(O=y-d),(W=$-d<W?$-d:W)<0&&(W=0)),{x:O,y:W}}},q.def(L.widget[o],W,$)}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);